-------------------------------------------------------------
 Роли (Roles)
-------------------------------------------------------------

На самом деле роль (role)- это просто структуризация всего что мы писали в playbook.
На примере будет понятно.

Создадим роль, которую назовем - lamp (имя может быть произвольно).

$ cd ./006_Roles

Возьмем за основу файл - playbook_lamp.yml.

Там все просто.

В блоке для rocky происходит установка LAMP и создание пользователя root с
паролем (для MYSQL).

Для того, чтобы можно было использовать модуль - mysql_user нужно обязательно поставить:
- mysql-devel
- python39
- python39-devel
- python39-pip
- gcc

а так же с помощью pip поставить - PyMySQL

В блоке для bullseye устанавливается репозиторий для php, mysql и собственно
сам сервер - mysql. Так же устанавливается пароль пользователя root (для MYSQL)

Для модуля - mysql_user необходимо
- python3-pip
- python3-mysqldb

а так же - PyMySQL

Далее в блоке для - jemmy устанавливается mysql и пароль для root. Все как в
bullsyey.

Установка mysql разделена между jemmy и bullseye т.к. там есть разные нюансы.


Далее в блоке debian устанавливается все что общее для jammy и bulseye - это
apache и php.

Ну и для всех выполняется безопасная настройка для mysql и копируется тестовые странички.





Будем из этого файла делать роль.






-----------------------------------------------
